@using StoreManagement.Models;
@using StoreManagement.Controllers;
@{
    bool SessionUserInfoIsExpired = Context.Session.GetObjectFromJson<TM_User>("UserAccount") == null;
    var SessionUserInfo = Context.Session.GetObjectFromJson<TM_User>("UserAccount");
}

<!DOCTYPE html>

<html>
<head>
    @* fontawesome-5 *@
    <link href="~/lib/fontawesome-5.0.13/css/fontawesome-all.css" rel="stylesheet" />

    @*  jquery-3.6.0 *@
    <script src="~/lib/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <script src="~/lib/jquery-ui-1.13.0/jquery-ui.min.js"></script>
    <link href="~/lib/jquery-ui-1.13.0/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/lib/jquery-ui-1.13.0/jquery-ui.theme.css" rel="stylesheet" />

    <script src="~/js/jquery.reDefaultTools.js"></script>

    @* jquery-inputmask *@
    <script src="~/js/jquery-inputmask/jquery.inputmask.bundle.js"></script>
    <script src="~/js/jquery-inputmask/inputmask/inputmask.extensions.js"></script>
    <script src="~/js/jquery-inputmask/inputmask/jquery.inputmask.js"></script>

    @* Bootstrap *@
    <script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />

    <link href="~/css/icon.css" rel="stylesheet" />

    @* linqjs *@
    <script src="~/lib/linqjs-v2.2.0.2/linq.min.js"></script>
    <script src="~/lib/linqjs-v2.2.0.2/jquery.linq.min.js"></script>

    @* sweetalert2 *@
    <script src="~/lib/sweetalert2/promise-polyfill.js"></script>
    <script src="~/lib/sweetalert2/sweetalert2.min.js"></script>
    <script src="~/lib/sweetalert2/sweetalert2-common.js"></script>
    <link href="~/lib/sweetalert2/sweetalert2.min.css" rel="stylesheet" />

    @*  tooltipster *@
    <script src="~/lib/tooltipster/tooltipster.bundle.min.js"></script>
    <link href="~/lib/tooltipster/tooltipster.bundle.css" rel="stylesheet" />
    <link href="~/lib/tooltipster/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-borderless.min.css" rel="stylesheet" />

    @* ThaiSansNeue *@
    <link href="~/Fonts/ThaiSansNeue/css/fontface.css" rel="stylesheet" />

    @* BlockUI *@
    <link href="~/css/BlockUI-Loading.css" rel="stylesheet" />
    <script src="~/js/jquery.blockUI.js"></script>

    @* fancybox3  *@
    <link href="~/lib/fancybox3/dist/jquery.fancybox.css" rel="stylesheet" />
    <script src="~/lib/fancybox3/dist/jquery.fancybox.js"></script>

    @* DataTables *@
    <link href="~/lib/DataTables/datatables.min.css" rel="stylesheet" />
    <script src="~/lib/DataTables/datatables.min.js"></script>

    @* System *@
    <link href="~/css/Customs.css" rel="stylesheet" />
    <link href="~/css/easy.css" rel="stylesheet" />
    <script src="~/js/System/sysFunction.js"></script>
    <script src="~/js/CommonScript.js"></script>

    @* Form Validation  *@
    <link href="~/lib/FormValidation/formValidation.min.css" rel="stylesheet" />
    <script src="~/lib/FormValidation/formValidation.min.js"></script>
    <script src="~/lib/FormValidation/bootstrap.min.js"></script>
    <script src="~/lib/FormValidation/CustomFormValidation.js"></script>

    @*File Upload*@
    <link href="~/lib/Fileupload/src/jquery.fileuploader.css" rel="stylesheet" />
    <script src="~/lib/Fileupload/src/jquery.fileuploader.js"></script>
    <script src="~/lib/Fileupload/AsyncUploadFile.js"></script>

    <link href="~/css/_MP_Back.css" rel="stylesheet" />
    <script src="~/js/_MP_Back.js"></script>

    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>

    <style>
        #SITE_NAVSIDE a {
            color: #ffffff;
            text-decoration: none;
            background-color: transparent;
        }

            #SITE_NAVSIDE a:hover {
                color: #ffffff;
                text-decoration: none;
                background-color: transparent;
            }

        #headTitle a {
            color: #ffffff;
            text-decoration: none;
            background-color: transparent;
        }

        #headTitle {
            font-size: 14px !important;
        }

            #headTitle a:hover {
                color: #ffffff;
                text-decoration: none;
                background-color: transparent;
            }
    </style>
</head>
<body>
    <div id="SITE_NAVSIDE">
        <button id="MENU_TRIGGER" type="button">
            <div class="menu-icon"><i class="fas fa-bars"></i></div>
            <div class="menu-label">
                MENU
            </div>
        </button>
        <ul id="MENU_LIST" clientidmode="static">
            @*<li class="treeview">
                    <a class="treeview-a active">
                        <div class='menu-icon'><i class="fas fa-list-alt"></i></div>
                        <div class='menu-label'>Master Data </i></div>
                    </a>
                </li>
                <li class="treeview">
                    <a class="treeview-a">
                        <div class='menu-icon'><i class="fas fa-cogs"></i></div>
                        <div class='menu-label'>Organization Registration </i></div>
                    </a>
                </li>
                <li class="treeview">
                    <a class="treeview-a">
                        <div class='menu-icon'><i class="fas fa-users-cog"></i></div>
                        <div class='menu-label'>User Permission  </i></div>
                    </a>
                </li>*@
            <li class="">
                <a href="@Url.Action("Index","Stock")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Stock" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-list-ul"></i></div>
                    <div class="menu-label">Stock</div>
                </a>
            </li>
            <li class="">
                <a href="@Url.Action("Index","Vehicle")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Vehicle" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-car"></i></div>
                    <div class="menu-label">Vehicle</div>
                </a>
            </li>
            <li class="">
                <a href="@Url.Action("Index","Customer")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Customer" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-users"></i></div>
                    <div class="menu-label">Customer</div>
                </a>
            </li>
            <li class="">
                <a href="@Url.Action("Index","Employee")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Employee" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-users"></i></div>
                    <div class="menu-label">Employee</div>
                </a>
            </li>
            <li class="">
                <a href="@Url.Action("Index","Job")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Job" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-list-alt"></i></div>
                    <div class="menu-label">Job</div>
                </a>
            </li>
            <li class="">
                <a href="@Url.Action("Index","LocationStore")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "LocationStore" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-list-ul"></i></div>
                    <div class="menu-label">Location Store</div>
                </a>
            </li>
            <li class="">
                <a href="@Url.Action("Index","Services")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Services" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-list-ul"></i></div>
                    <div class="menu-label">Services</div>
                </a>
            </li>
            <li class="">
                <a href="@Url.Action("Index","SparePart")" class="@(ViewContext.RouteData.Values["Controller"].ToString() == "SparePart" ? "active" : "")">
                    <div class="menu-icon"><i class="fa fa-list-ul"></i></div>
                    <div class="menu-label">Spare Part</div>
                </a>
            </li>
        </ul>
    </div>
    <div id="SITE_CONTENT">
        <div id="HEAD">
            <div class="container">
                <div class="head-content">
                    <div class="head-content-upper">
                        @*<a href="@Url.Action("Index","Home")" class="weblogo" style="display: flex;">
                                <div class="logo-img">
                                    <img src="~/Images/logo/I_SEE.png" width="100px" />
                                </div>
                                <div class="logo-title">
                                        <div class="logo-title-main">I.SEE Equipment and Engineering</div>
                                        <div class="logo-title-sub">SYSTEM</div>
                                    </div>
                            </a>*@
                        <a href="@Url.Action("Index","Home")" class="weblogo" style="display: flex;">
                            <div class="logo-img">
                                <img src="~/Images/logo/I_SEE.png" width="100px" />
                            </div>
                            <div class="logo-title">
                                <div class="logo-title-main">I.SEE Equipment</div>
                                <div class="logo-title-sub">Engineering</div>
                            </div>
                        </a>
                        <div class="userinfo">
                            <div class="user-detail">
                                <div class="name">
                                    @if (SessionUserInfoIsExpired == false)
                                    {
                                        @SessionUserInfo.FullName
                                    }
                                </div>
                                <div class="position">
                                    @if (SessionUserInfoIsExpired == false)
                                    {
                                        @SessionUserInfo.Position
                                    }
                                </div>
                            </div>
                            <div class="user-tools">
                                <button id="btnLogOut" type="button" class="ibtn ibtn-action cursor-pointer"><i class="fa fa-sign-out-alt"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="BODY">
            <div class="page-body">
                <div class="container">
                    <div class="card">
                        <div id="divPageTitle" class="card-header bg-secondary text-white" style="font-weight: bold;font-size: 19px;line-height: 19px;">
                            @ViewContext.RouteData.Values["Controller"].ToString()
                        </div>
                        @RenderBody()
                        @*<div class="card-body">
                                <div>
                                    @RenderBody()
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="card-footer bg-light">
                            </div>*@
                    </div>
                </div>
            </div>
            <div class="page-footer">
                I.SEE Equipment && Engineering - All rights reserved
            </div>
        </div>
    </div>
    <div id="SITE_OVERLAY"></div>

</body>
</html>

@if (SessionUserInfoIsExpired)
{
    <script type="text/javascript">
            @Html.Raw(string.Format("PopupSessionTimeOut('{0}');", Url.Action("Index", "Login")));
    </script>
}
